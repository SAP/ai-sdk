---
id: sap-rpt
title: SAP RPT
hide_title: false
hide_table_of_contents: false
description: How to use the SAP AI SDK for Java to perform table predictions with the SAP RPT model.
keywords:
  - sap
  - cloud
  - sdk
  - ai
  - rpt
  - tabular
  - table
  - predictions
  - predict
---

## Introduction

This guide shows how to make predictions on tabular data using the [SAP RPT](https://help.sap.com/docs/sap-ai-core/generative-ai-hub/sap-rpt-1) model.

:::warning
All classes under any of the `...model` packages are generated from an OpenAPI specification.
This means that these model classes are not guaranteed to be stable and may change with future releases.
They are safe to use, but may require updates even in minor releases.
:::

## Prerequisites

Before using the AI Core module, ensure that you have met all the general requirements outlined in the [overview](../../overview-cloud-sdk-for-ai-java#general-requirements).
Additionally, include the necessary Maven dependency in your project.

### Maven Dependencies

Add the following dependency to your `pom.xml` file:

```xml
<dependencies>
    <dependency>
        <groupId>com.sap.ai.sdk.foundationmodels</groupId>
        <artifactId>sap-rpt</artifactId>
        <version>${ai-sdk.version}</version>
    </dependency>
</dependencies>
```

See [an example pom in our Spring Boot application](https://github.com/SAP/ai-sdk-java/tree/main/sample-code/spring-app/pom.xml)

## Usage

In addition to the prerequisites above, we assume you have already set up the following to carry out the examples in this guide:

<!-- prettier-ignore-start-->

- **A Deployed SAP RPT Model in SAP AI Core**

  - Refer
    to [How to deploy a model to AI Core](https://help.sap.com/docs/sap-ai-core/sap-ai-core-service-guide/create-deployment-for-generative-ai-model-in-sap-ai-core)
    for setup instructions.
  - In case the model is deployed in a custom resource group, refer to [this section](#using-a-custom-resource-group).
  - <details>
    <summary>Example deployed model from the AI Core <code>/deployments</code> endpoint</summary>

    ```json
    {
      "id": "d123456abcdefg",
      "deploymentUrl": "https://api.ai.region.aws.ml.hana.ondemand.com/v2/inference/deployments/d123456abcdefg",
      "configurationId": "12345-123-123-123-123456abcdefg",
      "configurationName": "gpt-4o-mini",
      "scenarioId": "foundation-models",
      "status": "RUNNING",
      "statusMessage": null,
      "targetStatus": "RUNNING",
      "lastOperation": "CREATE",
      "latestRunningConfigurationId": "12345-123-123-123-123456abcdefg",
      "ttl": null,
      "details": {
        "scaling": {
          "backendDetails": {}
        },
        "resources": {
          "backendDetails": {
            "model": {
              "name": "gpt-4o-mini",
              "version": "latest"
            }
          }
        }
      },
      "createdAt": "2024-07-03T12:44:22Z",
      "modifiedAt": "2024-07-16T12:44:19Z",
      "submissionTime": "2024-07-03T12:44:51Z",
      "startTime": "2024-07-03T12:45:56Z",
      "completionTime": null
    }
    ```

    </details>

<!-- prettier-ignore-end-->

## Tabular Prediction

```java
RptClient rptClient = RptClient.forModel(RptModel.SAP_RPT_1_SMALL);

var dataSchema =
    Map.of(
        "PRODUCT", SchemaFieldConfig.create().dtype(ColumnType.STRING),
        "PRICE", SchemaFieldConfig.create().dtype(ColumnType.STRING),
        "ORDERDATE", SchemaFieldConfig.create().dtype(ColumnType.DATE),
        "ID", SchemaFieldConfig.create().dtype(ColumnType.STRING),
        "COSTCENTER", SchemaFieldConfig.create().dtype(ColumnType.STRING));
var targetColumns =
    List.of(
        TargetColumnConfig.create()
            .name("COSTCENTER")
            .predictionPlaceholder(PredictionPlaceholder.create("[PREDICT]"))
            .taskType(TargetColumnConfig.TaskTypeEnum.CLASSIFICATION));
List<Map<String, RowsInnerValue>> rows =
    List.of(
        Map.of(
            "PRODUCT", RowsInnerValue.create("Couch"),
            "PRICE", RowsInnerValue.create(BigDecimal.valueOf(999.99)),
            "ORDERDATE", RowsInnerValue.create("28-11-2025"),
            "ID", RowsInnerValue.create("35"),
            "COSTCENTER", RowsInnerValue.create("[PREDICT]")),
        Map.of(
            "PRODUCT", RowsInnerValue.create("Office Chair"),
            "PRICE", RowsInnerValue.create(BigDecimal.valueOf(150.8)),
            "ORDERDATE", RowsInnerValue.create("02-11-2025"),
            "ID", RowsInnerValue.create("44"),
            "COSTCENTER", RowsInnerValue.create("Office Furniture")),
        Map.of(
            "PRODUCT", RowsInnerValue.create("Server Rack"),
            "PRICE", RowsInnerValue.create(BigDecimal.valueOf(2200.00)),
            "ORDERDATE", RowsInnerValue.create("01-11-2025"),
            "ID", RowsInnerValue.create("104"),
            "COSTCENTER", RowsInnerValue.create("Data Infrastructure")));

var request =
    PredictRequestPayload.create()
        .predictionConfig(PredictionConfig.create().targetColumns(targetColumns))
        .indexColumn("ID")
        .dataSchema(dataSchema)
        .parseDataTypes(true)
        .rows(rows);

PredictResponsePayload prediction = rptClient.tableCompletion(request);
```

The `prediction` object will contain the predicted values for the `COSTCENTER` column based on the input data.

See [an example in our Spring Boot application](https://github.com/SAP/ai-sdk-java/tree/main/sample-code/spring-app/src/main/java/com/sap/ai/sdk/app/services/RptService.java)
