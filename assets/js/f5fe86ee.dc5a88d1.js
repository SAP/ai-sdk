"use strict";(self.webpackChunksap_ai_sdk_documentation=self.webpackChunksap_ai_sdk_documentation||[]).push([[2419],{3332:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"rpt","title":"SAP RPT-1 (Beta)","description":"How to use SAP Cloud SDK for AI to interact with the SAP RPT-1 model for Tabular AI on SAP AI Core.","source":"@site/docs-js/rpt.mdx","sourceDirName":".","slug":"/rpt","permalink":"/ai-sdk/docs/js/rpt","draft":false,"unlisted":false,"editUrl":"https://github.com/SAP/ai-sdk/edit/main/docs-js/rpt.mdx","tags":[],"version":"current","frontMatter":{"id":"rpt","title":"SAP RPT-1 (Beta)","hide_title":false,"hide_table_of_contents":false,"description":"How to use SAP Cloud SDK for AI to interact with the SAP RPT-1 model for Tabular AI on SAP AI Core.","keywords":["sap","cloud","sdk","ai","ai core","ai-api","rpt","rpt-1","tabular ai","relational pretrained transformer"]},"sidebar":"docsJsSidebar","previous":{"title":"Prompt Registry","permalink":"/ai-sdk/docs/js/ai-core/prompt-registry"},"next":{"title":"Getting Started with Agents","permalink":"/ai-sdk/docs/js/tutorials/getting-started-with-agents"}}');var a=n(4848),o=n(8453);const s={id:"rpt",title:"SAP RPT-1 (Beta)",hide_title:!1,hide_table_of_contents:!1,description:"How to use SAP Cloud SDK for AI to interact with the SAP RPT-1 model for Tabular AI on SAP AI Core.",keywords:["sap","cloud","sdk","ai","ai core","ai-api","rpt","rpt-1","tabular ai","relational pretrained transformer"]},r=void 0,c={},d=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Client Initialization",id:"client-initialization",level:3},{value:"Predict With Schema",id:"predict-with-schema",level:3},{value:"Predict Without Schema",id:"predict-without-schema",level:3}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.admonition,{type:"important",children:(0,a.jsx)(t.p,{children:"This package is experimental and subject to change.\nDo not use in production."})}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"@sap-ai-sdk/rpt"})," package provides a client to interact with ",(0,a.jsx)(t.a,{href:"https://www.sap.com/products/artificial-intelligence/sap-rpt.html",children:"SAP-RPT-1"}),", SAP\u2019s Relational Pretrained Transformer model."]}),"\n",(0,a.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(t.p,{children:"To add the package to your project, run the following command in your terminal:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"npm install @sap-ai-sdk/rpt\n"})}),"\n",(0,a.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(t.p,{children:"SAP-RPT-1 is a relational pretrained transformer model that delivers accurate predictive insights from structured business data.\nThe following shows the different ways to use the RPT client to interact with the model."}),"\n",(0,a.jsx)(t.h3,{id:"client-initialization",children:"Client Initialization"}),"\n",(0,a.jsxs)(t.p,{children:["Initialize a client using ",(0,a.jsx)(t.code,{children:"RptClient"})," constructor with optional parameters.\nBy default, the 'sap-rpt-1-small' model is chosen as the prediction model."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-typescript",children:"import { RptClient } from '@sap-ai-sdk/rpt';\n\nconst client = new RptClient();\n"})}),"\n",(0,a.jsx)(t.p,{children:"To use the 'sap-rpt-1-large' model, specify the model name in the constructor:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-typescript",children:"const client = new RptClient('sap-rpt-1-large');\n"})}),"\n",(0,a.jsxs)(t.p,{children:["Follow the instructions in the ",(0,a.jsx)(t.a,{href:"./foundation-models#client-initialization",children:"Foundation Models documentation"}),"\nto specify a model version, use a model with an explicit deployment ID, select a specific resource group, or target a custom AI Core instance."]}),"\n",(0,a.jsx)(t.h3,{id:"predict-with-schema",children:"Predict With Schema"}),"\n",(0,a.jsxs)(t.p,{children:["Use the ",(0,a.jsx)(t.code,{children:"predictWithSchema()"})," method to make predictions with a schema explicitly defined.\nPass the data schema, and the prediction data including the prediction configuration and input data to the method.\nPrefer providing the data schema if it is known instead of relying on the auto-inference solely based on the input data."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-typescript",children:"const prediction = await client.predictWithSchema(\n  // Data schema\n  [\n    { name: 'PRODUCT', dtype: 'string' },\n    { name: 'PRICE', dtype: 'numeric' },\n    { name: 'PRODUCTION_DATE', dtype: 'date' },\n    { name: 'SALESGROUP', dtype: 'string' }\n  ],\n  // Prediction data\n  {\n    prediction_config: {\n      target_columns: [\n        {\n          name: 'SALESGROUP',\n          prediction_placeholder: '[PREDICT]',\n          task_type: 'classification'\n        }\n      ]\n    },\n    index_column: '__row_idx__',\n    rows: [\n      {\n        PRODUCT: 'Laptop',\n        PRICE: 999.99,\n        PRODUCTION_DATE: '2025-01-15',\n        __row_idx__: '35',\n        SALESGROUP: '[PREDICT]'\n      },\n      {\n        PRODUCT: 'Desktop Computer',\n        PRICE: 750.5,\n        PRODUCTION_DATE: '2024-12-02',\n        __row_idx__: '42',\n        SALESGROUP: 'Enterprise Solutions'\n      }\n      // Additional rows...\n    ]\n  }\n);\n"})}),"\n",(0,a.jsxs)(t.p,{children:["The data schema is a list of column definitions, each containing a ",(0,a.jsx)(t.code,{children:"name"})," and a ",(0,a.jsx)(t.code,{children:"dtype"})," properties.\nThe prediction data contains the following properties:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"prediction_config"}),": A mandatory configuration to specify the columns to predict, including their names, placeholder values, and task types.\nThe task type can be either ",(0,a.jsx)(t.code,{children:"classification"})," or ",(0,a.jsx)(t.code,{children:"regression"}),".\nIf not specified, the model infers the task type based on the column data type."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"index_column"}),": The name of the column that serves as the unique identifier for each row.\nThe index column is returned in the prediction results to allow mapping predictions back to the input data."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"rows"})," or ",(0,a.jsx)(t.code,{children:"columns"}),": The input data to make predictions on.\nUse ",(0,a.jsx)(t.code,{children:"rows"})," for row-based format or ",(0,a.jsx)(t.code,{children:"columns"})," for column-based format."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"parse_data_types"}),": Optional boolean to control data type parsing.\nWhen set to ",(0,a.jsx)(t.code,{children:"true"})," (default), numeric columns are parsed to float or integer, and dates (",(0,a.jsx)(t.code,{children:"YYYY-MM-DD"}),") are parsed automatically."]}),"\n"]}),"\n",(0,a.jsxs)(t.admonition,{type:"important",children:[(0,a.jsxs)(t.p,{children:["When you store the schema and prediction data in variables, declare the schema with ",(0,a.jsx)(t.code,{children:"as const"})," and use the ",(0,a.jsx)(t.code,{children:"PredictionData<typeof schema>"})," type.\nThis enables type inference and accurate IDE autocompletion.\nIf you pass the data directly to ",(0,a.jsx)(t.code,{children:"predictWithSchema()"}),", you do not need additional annotations."]}),(0,a.jsx)(t.p,{children:"Example:"}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-typescript",children:"const schema = [...] as const;\nconst data: PredictionData<typeof schema> = {...};\n\nclient.predictWithSchema(schema, data);\n"})})]}),"\n",(0,a.jsx)(t.h3,{id:"predict-without-schema",children:"Predict Without Schema"}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsxs)(t.p,{children:["If the data schema is known, it is recommended to use the ",(0,a.jsxs)(t.a,{href:"#predict-with-schema",children:[(0,a.jsx)(t.code,{children:"predictWithSchema()"})," method"]})," instead."]})}),"\n",(0,a.jsxs)(t.p,{children:["To make predictions without providing a schema, use the ",(0,a.jsx)(t.code,{children:"predictWithoutSchema()"})," method.\nPass only the prediction data as a parameter.\nThe data schema will be inferred from the input data."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-typescript",children:"const prediction = await client.predictWithoutSchema(\n  // Prediction data\n  {\n    prediction_config: {\n      target_columns: [\n        {\n          name: 'SALESGROUP',\n          prediction_placeholder: '[PREDICT]',\n          task_type: 'classification'\n        }\n      ]\n    },\n    index_column: '__row_idx__',\n    rows: [\n      {\n        PRODUCT: 'Laptop',\n        PRICE: 999.99,\n        PRODUCTION_DATE: '2025-01-15',\n        __row_idx__: '35',\n        SALESGROUP: '[PREDICT]'\n      },\n      {\n        PRODUCT: 'Desktop Computer',\n        PRICE: 750.5,\n        PRODUCTION_DATE: '2024-12-02',\n        __row_idx__: '42',\n        SALESGROUP: 'Enterprise Solutions'\n      }\n      // Additional rows...\n    ]\n  }\n);\n"})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(6540);const a={},o=i.createContext(a);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);