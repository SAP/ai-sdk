"use strict";(self.webpackChunksap_ai_sdk_documentation=self.webpackChunksap_ai_sdk_documentation||[]).push([[7227],{7200:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"ai-core/document-grounding","title":"Document Grounding","description":"How to use SAP Cloud SDK for AI to interact with the document grounding service.","source":"@site/docs-js/ai-core/document-grounding.mdx","sourceDirName":"ai-core","slug":"/ai-core/document-grounding","permalink":"/ai-sdk/docs/js/next/ai-core/document-grounding","draft":false,"unlisted":false,"editUrl":"https://github.com/SAP/ai-sdk/edit/main/docs-js/ai-core/document-grounding.mdx","tags":[],"version":"current","frontMatter":{"id":"document-grounding","title":"Document Grounding","hide_title":false,"hide_table_of_contents":false,"description":"How to use SAP Cloud SDK for AI to interact with the document grounding service.","keywords":["sap","cloud","sdk","ai","grounding"]},"sidebar":"docsJsSidebar","previous":{"title":"AI API","permalink":"/ai-sdk/docs/js/next/ai-core/ai-api"},"next":{"title":"Prompt Registry","permalink":"/ai-sdk/docs/js/next/ai-core/prompt-registry"}}');var i=t(4848),a=t(8453);const s={id:"document-grounding",title:"Document Grounding",hide_title:!1,hide_table_of_contents:!1,description:"How to use SAP Cloud SDK for AI to interact with the document grounding service.",keywords:["sap","cloud","sdk","ai","grounding"]},r=void 0,c={},d=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Create a Collection",id:"create-a-collection",level:3},{value:"Create a Document",id:"create-a-document",level:3},{value:"Custom Destination",id:"custom-destination",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsxs)(n.p,{children:["This package is still in ",(0,i.jsx)(n.strong,{children:"beta"})," and is subject to breaking changes.\nUse it with caution."]})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"@sap-ai-sdk/document-grounding"})," package incorporates generative AI document grounding capabilities into your AI activities in SAP AI Core and SAP AI Launchpad."]}),"\n",(0,i.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"$ npm install @sap-ai-sdk/document-grounding\n"})}),"\n",(0,i.jsxs)(n.admonition,{type:"important",children:[(0,i.jsx)(n.p,{children:"This package contains generated code.\nUpdates to this package may include breaking changes."}),(0,i.jsxs)(n.p,{children:["To ensure compatibility and manage updates effectively, we strongly recommend using the tilde (",(0,i.jsx)(n.code,{children:"~"}),") version range in your project instead of the caret (",(0,i.jsx)(n.code,{children:"^"}),").\nThis approach will allow patch-level updates while preventing potentially breaking minor version changes."]})]}),"\n",(0,i.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,i.jsxs)(n.p,{children:["The examples below demonstrate the usage of the most commonly used APIs in SAP AI Core document grounding service.\nIn addition to the examples below, you can find more sample code ",(0,i.jsx)(n.a,{href:"https://github.com/SAP/ai-sdk-js/blob/main/sample-code/src/document-grounding.ts",children:"here"}),"."]}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["If you define a custom resource group, ensure that it has the label ",(0,i.jsx)(n.code,{children:"document-grounding: true"})," in order to use the document grounding service.\nThis label can be set in SAP AI Launchpad while creating the resource group.\nAlternatively, create a resource group via AI API by referring to the ",(0,i.jsx)(n.a,{href:"https://help.sap.com/docs/sap-ai-core/sap-ai-core-service-guide/create-resource-group-for-ai-data-management?locale=en-US",children:"Creating a Resource Group for Grounding"})," guide."]})}),"\n",(0,i.jsx)(n.h3,{id:"create-a-collection",children:"Create a Collection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const response = await VectorApi.createCollection(\n  {\n    title: 'my-collection-title',\n    embeddingConfig: {\n      modelName: 'text-embedding-3-small'\n    },\n    metadata: []\n  },\n  {\n    'AI-Resource-Group': 'default'\n  }\n).executeRaw();\n\nconst collectionId = (response.headers.location as string).split('/').at(-2);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"create-a-document",children:"Create a Document"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const response: DocumentsListResponse = await VectorApi.createDocuments(\n  collectionId,\n  {\n    documents: [\n      {\n        metadata: [],\n        chunks: [\n          {\n            content:\n              'SAP Cloud SDK for AI is the official Software Development Kit (SDK) for SAP AI Core, SAP Generative AI Hub, and Orchestration Service.',\n            metadata: []\n          }\n        ]\n      }\n    ]\n  },\n  {\n    'AI-Resource-Group': 'default'\n  }\n).execute();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"custom-destination",children:"Custom Destination"}),"\n",(0,i.jsxs)(n.p,{children:["When calling the ",(0,i.jsx)(n.code,{children:"execute()"})," method, it is possible to provide a custom destination for your SAP AI Core instance.\nFor example, when querying deployments targeting a destination with the name ",(0,i.jsx)(n.code,{children:"my-destination"}),", the following code can be used:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const response = await VectorApi.deleteCollectionById(collectionId, {\n  'AI-Resource-Group': 'default'\n}).execute({\n  destinationName: 'my-destination'\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["By default, the fetched destination is cached.\nTo disable caching, set the ",(0,i.jsx)(n.code,{children:"useCache"})," parameter to ",(0,i.jsx)(n.code,{children:"false"})," together with the ",(0,i.jsx)(n.code,{children:"destinationName"})," parameter."]}),"\n",(0,i.jsxs)(n.p,{children:["For more information about configuring a destination, refer to the ",(0,i.jsx)(n.a,{href:"../connecting-to-ai-core#using-a-destination",children:"Using a Destination"})," section."]})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>r});var o=t(6540);const i={},a=o.createContext(i);function s(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);