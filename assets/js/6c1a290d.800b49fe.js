"use strict";(self.webpackChunksap_ai_sdk_documentation=self.webpackChunksap_ai_sdk_documentation||[]).push([[7535],{3519:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"ai-core/prompt-registry","title":"Prompt Registry","description":"How to use SAP Cloud SDK for AI to interact with the prompt registry service.","source":"@site/docs-js/ai-core/prompt-registry.mdx","sourceDirName":"ai-core","slug":"/ai-core/prompt-registry","permalink":"/ai-sdk/docs/js/ai-core/prompt-registry","draft":false,"unlisted":false,"editUrl":"https://github.com/SAP/ai-sdk/edit/main/docs-js/ai-core/prompt-registry.mdx","tags":[],"version":"current","frontMatter":{"id":"prompt-registry","title":"Prompt Registry","hide_title":false,"hide_table_of_contents":false,"description":"How to use SAP Cloud SDK for AI to interact with the prompt registry service.","keywords":["sap","cloud","sdk","ai","prompt","registry"]},"sidebar":"docsJsSidebar","previous":{"title":"Document Grounding","permalink":"/ai-sdk/docs/js/ai-core/document-grounding"},"next":{"title":"Getting Started with Agents","permalink":"/ai-sdk/docs/js/tutorials/getting-started-with-agents"}}');var o=n(4848),r=n(8453);const s={id:"prompt-registry",title:"Prompt Registry",hide_title:!1,hide_table_of_contents:!1,description:"How to use SAP Cloud SDK for AI to interact with the prompt registry service.",keywords:["sap","cloud","sdk","ai","prompt","registry"]},a=void 0,c={},d=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"List Prompt Templates",id:"list-prompt-templates",level:3},{value:"Custom Destination",id:"custom-destination",level:3},{value:"Orchestration Configuration",id:"orchestration-configuration",level:2},{value:"Create an Orchestration Configuration",id:"create-an-orchestration-configuration",level:3},{value:"List Orchestration Configurations",id:"list-orchestration-configurations",level:3}];function l(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"@sap-ai-sdk/prompt-registry"})," package incorporates generative AI prompt registry capabilities into your AI activities in SAP AI Core and SAP AI Launchpad."]}),"\n",(0,o.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"$ npm install @sap-ai-sdk/prompt-registry\n"})}),"\n",(0,o.jsxs)(t.admonition,{type:"important",children:[(0,o.jsx)(t.p,{children:"This package contains generated code.\nUpdates to this package may include breaking changes."}),(0,o.jsxs)(t.p,{children:["To ensure compatibility and manage updates effectively, we strongly recommend using the tilde (",(0,o.jsx)(t.code,{children:"~"}),") version range in your project instead of the caret (",(0,o.jsx)(t.code,{children:"^"}),").\nThis approach will allow patch-level updates while preventing potentially breaking minor version changes."]})]}),"\n",(0,o.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsxs)(t.p,{children:["The example below demonstrate a sample usage of APIs in SAP AI Core prompt registry service.\nIn addition, you can find more sample code ",(0,o.jsx)(t.a,{href:"https://github.com/SAP/ai-sdk-js/blob/main/sample-code/src/prompt-registry.ts",children:"here"}),"."]}),"\n",(0,o.jsx)(t.h3,{id:"list-prompt-templates",children:"List Prompt Templates"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"const response: PromptTemplateListResponse =\n  await PromptTemplatesApi.listPromptTemplates({\n    scenario: 'test'\n  }).execute();\n"})}),"\n",(0,o.jsx)(t.h3,{id:"custom-destination",children:"Custom Destination"}),"\n",(0,o.jsxs)(t.p,{children:["When calling the ",(0,o.jsx)(t.code,{children:"execute()"})," method, it is possible to provide a custom destination for your SAP AI Core instance.\nFor example, when querying deployments targeting a destination with the name ",(0,o.jsx)(t.code,{children:"my-destination"}),", the following code can be used:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"const response: PromptTemplateListResponse =\n  await PromptTemplatesApi.listPromptTemplates({\n    scenario: 'test'\n  }).execute({\n    destinationName: 'my-destination'\n  });\n"})}),"\n",(0,o.jsxs)(t.p,{children:["By default, the fetched destination is cached.\nTo disable caching, set the ",(0,o.jsx)(t.code,{children:"useCache"})," parameter to ",(0,o.jsx)(t.code,{children:"false"})," together with the ",(0,o.jsx)(t.code,{children:"destinationName"})," parameter."]}),"\n",(0,o.jsxs)(t.p,{children:["For more information about configuring a destination, refer to the ",(0,o.jsx)(t.a,{href:"../connecting-to-ai-core#using-a-destination",children:"Using a Destination"})," section."]}),"\n",(0,o.jsx)(t.h2,{id:"orchestration-configuration",children:"Orchestration Configuration"}),"\n",(0,o.jsxs)(t.p,{children:["The orchestration config API available as part of the prompt registry package allows to persist orchestration configurations.\nThese configurations can include prompt templating, content filtering, data masking, grounding, and translation settings.\nOnce stored, you can reference them when initializing an ",(0,o.jsx)(t.code,{children:"OrchestrationClient"})," instance instead of defining the configuration inline."]}),"\n",(0,o.jsxs)(t.p,{children:["For more details about orchestration configuration management, refer to the ",(0,o.jsx)(t.a,{href:"https://help.sap.com/docs/sap-ai-core/generative-ai/orchestration-config-management",children:"SAP AI Core documentation"}),"."]}),"\n",(0,o.jsx)(t.h3,{id:"create-an-orchestration-configuration",children:"Create an Orchestration Configuration"}),"\n",(0,o.jsxs)(t.p,{children:["Use the ",(0,o.jsx)(t.code,{children:"createUpdateOrchestrationConfig()"})," method to create or update an orchestration configuration:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"import { OrchestrationConfigsApi } from '@sap-ai-sdk/prompt-registry';\n\nconst orchestrationConfig = {\n  name: 'my-orchestration-config',\n  scenario: 'customer-support',\n  version: '0.0.1',\n  spec: {\n    promptTemplating: {\n      model: {\n        name: 'gpt-4o',\n        version: 'latest'\n      },\n      prompt: {\n        template: [\n          {\n            role: 'system',\n            content:\n              'You are a helpful customer support assistant. Answer customer questions professionally and accurately.'\n          },\n          { role: 'user', content: '{{?customerQuestion}}' }\n        ]\n      }\n    }\n  }\n};\n\nconst response =\n  await OrchestrationConfigsApi.createUpdateOrchestrationConfig(\n    orchestrationConfig\n  ).execute();\n\nconsole.log(response.id);\n"})}),"\n",(0,o.jsxs)(t.p,{children:["The response contains the generated ",(0,o.jsx)(t.code,{children:"id"})," property, which uniquely identifies the orchestration configuration."]}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsxs)(t.p,{children:["To use ",(0,o.jsx)(t.a,{href:"../orchestration/chat-completion#streaming",children:"streaming"})," with an orchestration configuration, include streaming settings in the ",(0,o.jsx)(t.code,{children:"spec"})," property when creating the configuration."]})}),"\n",(0,o.jsx)(t.h3,{id:"list-orchestration-configurations",children:"List Orchestration Configurations"}),"\n",(0,o.jsxs)(t.p,{children:["Use the ",(0,o.jsx)(t.code,{children:"listOrchestrationConfigs()"})," method to retrieve existing orchestration configurations:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ts",children:"const configs = await OrchestrationConfigsApi.listOrchestrationConfigs({\n  scenario: 'customer-support'\n}).execute();\n"})}),"\n",(0,o.jsxs)(t.p,{children:["To use a stored orchestration configuration with the ",(0,o.jsx)(t.code,{children:"OrchestrationClient"}),", refer to the ",(0,o.jsx)(t.a,{href:"../orchestration/chat-completion#initialization-with-orchestration-configuration",children:"Initialization with Orchestration Configuration"})," section in the chat completion guide."]})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var i=n(6540);const o={},r=i.createContext(o);function s(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);