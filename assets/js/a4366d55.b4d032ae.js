"use strict";(self.webpackChunksap_ai_sdk_documentation=self.webpackChunksap_ai_sdk_documentation||[]).push([[7227],{7200:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"ai-core/document-grounding","title":"Document Grounding","description":"How to use SAP Cloud SDK for AI to interact with the document grounding service.","source":"@site/docs-js/ai-core/document-grounding.mdx","sourceDirName":"ai-core","slug":"/ai-core/document-grounding","permalink":"/ai-sdk/docs/js/ai-core/document-grounding","draft":false,"unlisted":false,"editUrl":"https://github.com/SAP/ai-sdk/edit/main/docs-js/ai-core/document-grounding.mdx","tags":[],"version":"current","frontMatter":{"id":"document-grounding","title":"Document Grounding","hide_title":false,"hide_table_of_contents":false,"description":"How to use SAP Cloud SDK for AI to interact with the document grounding service.","keywords":["sap","cloud","sdk","ai","grounding"]},"sidebar":"docsJsSidebar","previous":{"title":"AI API","permalink":"/ai-sdk/docs/js/ai-core/ai-api"},"next":{"title":"Prompt Registry","permalink":"/ai-sdk/docs/js/ai-core/prompt-registry"}}');var o=t(4848),s=t(8453);const a={id:"document-grounding",title:"Document Grounding",hide_title:!1,hide_table_of_contents:!1,description:"How to use SAP Cloud SDK for AI to interact with the document grounding service.",keywords:["sap","cloud","sdk","ai","grounding"]},r=void 0,c={},d=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"Get Pipeline Status",id:"get-pipeline-status",level:3},{value:"Create a Collection",id:"create-a-collection",level:3},{value:"Create a Document",id:"create-a-document",level:3},{value:"Retrieval Search",id:"retrieval-search",level:3},{value:"Use Grounding in Orchestration",id:"use-grounding-in-orchestration",level:3},{value:"Custom Destination",id:"custom-destination",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"@sap-ai-sdk/document-grounding"})," package incorporates generative AI document grounding capabilities into your AI activities in SAP AI Core and SAP AI Launchpad."]}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"$ npm install @sap-ai-sdk/document-grounding\n"})}),"\n",(0,o.jsxs)(n.admonition,{type:"important",children:[(0,o.jsx)(n.p,{children:"This package contains generated code.\nUpdates to this package may include breaking changes."}),(0,o.jsxs)(n.p,{children:["To ensure compatibility and manage updates effectively, we strongly recommend using the tilde (",(0,o.jsx)(n.code,{children:"~"}),") version range in your project instead of the caret (",(0,o.jsx)(n.code,{children:"^"}),").\nThis approach will allow patch-level updates while preventing potentially breaking minor version changes."]})]}),"\n",(0,o.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,o.jsxs)(n.p,{children:["The examples below demonstrate the usage of the most commonly used APIs in SAP AI Core document grounding service.\nIn addition to the examples below, you can find more sample code ",(0,o.jsx)(n.a,{href:"https://github.com/SAP/ai-sdk-js/blob/main/sample-code/src/document-grounding.ts",children:"here"}),"."]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["If you define a custom resource group, ensure that it has the label ",(0,o.jsx)(n.code,{children:"document-grounding: true"})," in order to use the document grounding service.\nThis label can be set in SAP AI Launchpad while creating the resource group.\nAlternatively, create a resource group via AI API by referring to the ",(0,o.jsx)(n.a,{href:"https://help.sap.com/docs/sap-ai-core/sap-ai-core-service-guide/create-resource-group-for-grounding-e32efa5402154101b4cc05c03ef5be09",children:"Creating a Resource Group for Grounding"})," guide."]})}),"\n",(0,o.jsx)(n.h3,{id:"get-pipeline-status",children:"Get Pipeline Status"}),"\n",(0,o.jsxs)(n.p,{children:["The following examples show how to list pipelines, create a new pipeline, and view its current status.\nRefer to the ",(0,o.jsx)(n.a,{href:"https://help.sap.com/docs/sap-ai-core/sap-ai-core-service-guide/pipelines-api-d8cc0e369f994091b95a6d80aeadbc7f",children:"Pipelines API documentation"})," for more details."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"const getAllPipelinesResponse = await PipelinesApi.getAllPipelines(\n  {\n    $top: 10\n  },\n  {\n    'AI-Resource-Group': 'default'\n  }\n).execute();\n\nconst createPipelineResponse = await PipelinesApi.createPipeline(\n  {\n    configuration: {\n      destination: 'my-destination'\n    },\n    type: 'MSSharePoint'\n  },\n  {\n    'AI-Resource-Group': 'default'\n  }\n).execute();\n\nconst getPipelineStatusResponse = await PipelinesApi.getPipelineStatus(\n  'pipeline-id',\n  {\n    'AI-Resource-Group': 'default'\n  }\n).execute();\n"})}),"\n",(0,o.jsx)(n.h3,{id:"create-a-collection",children:"Create a Collection"}),"\n",(0,o.jsxs)(n.p,{children:["The following example shows how to create a collection using Vector API.\nFor more details, refer to the ",(0,o.jsx)(n.a,{href:"https://help.sap.com/docs/sap-ai-core/sap-ai-core-service-guide/vector-api-08e3d008addb4362986c73ff0151638c",children:"Vector API documentation"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"const response = await VectorApi.createCollection(\n  {\n    title: 'my-collection-title',\n    embeddingConfig: {\n      modelName: 'text-embedding-3-small'\n    },\n    metadata: []\n  },\n  {\n    'AI-Resource-Group': 'default'\n  }\n).executeRaw();\n\nconst collectionId = (response.headers.location as string).split('/').at(-2);\n"})}),"\n",(0,o.jsx)(n.h3,{id:"create-a-document",children:"Create a Document"}),"\n",(0,o.jsx)(n.p,{children:"The following example shows how to create a document using Vector API."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"const response: DocumentsListResponse = await VectorApi.createDocuments(\n  collectionId,\n  {\n    documents: [\n      {\n        metadata: [],\n        chunks: [\n          {\n            content:\n              'SAP Cloud SDK for AI is the official Software Development Kit (SDK) for SAP AI Core, SAP Generative AI Hub, and Orchestration Service.',\n            metadata: []\n          }\n        ]\n      }\n    ]\n  },\n  {\n    'AI-Resource-Group': 'default'\n  }\n).execute();\n"})}),"\n",(0,o.jsx)(n.h3,{id:"retrieval-search",children:"Retrieval Search"}),"\n",(0,o.jsxs)(n.p,{children:["The following example shows how to search results using Retrieve API.\nPlease refer to ",(0,o.jsx)(n.a,{href:"https://help.sap.com/docs/sap-ai-core/sap-ai-core-service-guide/retrieval-api-281e8cf31d654b108a6e128a4a6cdbae",children:"Retrieval API documentation"})," for more details."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"const response: RetrievalSearchResults = RetrievalApi.search(\n  {\n    query: 'What is SAP Cloud SDK for AI?',\n    filters: [\n      {\n        id: 'my-filter',\n        searchConfiguration: {\n          maxChunkCount: 10\n        },\n        dataRepositories: ['*'],\n        dataRepositoryType: 'vector'\n      }\n    ]\n  },\n  {\n    'AI-Resource-Group': 'default'\n  }\n).execute();\n"})}),"\n",(0,o.jsx)(n.h3,{id:"use-grounding-in-orchestration",children:"Use Grounding in Orchestration"}),"\n",(0,o.jsxs)(n.p,{children:["Refer to ",(0,o.jsx)(n.a,{href:"../orchestration/chat-completion#grounding",children:"Orchestration Grounding"})," for usage details."]}),"\n",(0,o.jsx)(n.h3,{id:"custom-destination",children:"Custom Destination"}),"\n",(0,o.jsxs)(n.p,{children:["When calling the ",(0,o.jsx)(n.code,{children:"execute()"})," method, it is possible to provide a custom destination for your SAP AI Core instance.\nFor example, when querying deployments targeting a destination with the name ",(0,o.jsx)(n.code,{children:"my-destination"}),", the following code can be used:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"const response = await VectorApi.deleteCollectionById(collectionId, {\n  'AI-Resource-Group': 'default'\n}).execute({\n  destinationName: 'my-destination'\n});\n"})}),"\n",(0,o.jsxs)(n.p,{children:["By default, the fetched destination is cached.\nTo disable caching, set the ",(0,o.jsx)(n.code,{children:"useCache"})," parameter to ",(0,o.jsx)(n.code,{children:"false"})," together with the ",(0,o.jsx)(n.code,{children:"destinationName"})," parameter."]}),"\n",(0,o.jsxs)(n.p,{children:["For more information about configuring a destination, refer to the ",(0,o.jsx)(n.a,{href:"../connecting-to-ai-core#using-a-destination",children:"Using a Destination"})," section."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(6540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);