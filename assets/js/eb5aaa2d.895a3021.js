"use strict";(self.webpackChunksap_ai_sdk_documentation=self.webpackChunksap_ai_sdk_documentation||[]).push([[4256],{5212:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"upgrade-guide","title":"Upgrade Guide","description":"Guide for upgrading from SAP Cloud SDK for AI","source":"@site/docs-js/upgrade-guide.mdx","sourceDirName":".","slug":"/upgrade-guide","permalink":"/ai-sdk/docs/js/upgrade-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/SAP/ai-sdk/edit/main/docs-js/upgrade-guide.mdx","tags":[],"version":"current","frontMatter":{"id":"upgrade-guide","title":"Upgrade Guide","hide_title":false,"hide_table_of_contents":false,"description":"Guide for upgrading from SAP Cloud SDK for AI","keywords":["sap","cloud","sdk","ai","upgrade","migration","v2"]},"sidebar":"docsJsSidebar","previous":{"title":"Release Notes","permalink":"/ai-sdk/docs/js/release-notes"},"next":{"title":"FAQ","permalink":"/ai-sdk/docs/js/frequently-asked-questions"}}');var t=s(4848),o=s(8453);const a={id:"upgrade-guide",title:"Upgrade Guide",hide_title:!1,hide_table_of_contents:!1,description:"Guide for upgrading from SAP Cloud SDK for AI",keywords:["sap","cloud","sdk","ai","upgrade","migration","v2"]},i=void 0,l={},d=[{value:"Update Dependencies",id:"update-dependencies",level:2},{value:"<code>@sap-ai-sdk/foundation-models</code>",id:"sap-ai-sdkfoundation-models",level:2},{value:"Type Import",id:"type-import",level:3},{value:"Stream Controller",id:"stream-controller",level:3},{value:"Chat Completion Parameter Type",id:"chat-completion-parameter-type",level:3},{value:"Response Object Data Property",id:"response-object-data-property",level:3},{value:"<code>@sap-ai-sdk/orchestration</code>",id:"sap-ai-sdkorchestration",level:2},{value:"Type Import",id:"type-import-1",level:3},{value:"Stream Controller",id:"stream-controller-1",level:3},{value:"Response Object Data Property",id:"response-object-data-property-1",level:3},{value:"Module Configuration Structure",id:"module-configuration-structure",level:3},{value:"Chat Completion Parameter",id:"chat-completion-parameter",level:3},{value:"Global Streaming Configuration",id:"global-streaming-configuration",level:3},{value:"Response Structure",id:"response-structure",level:3},{value:"Grounding Configuration",id:"grounding-configuration",level:3},{value:"Removed Functions",id:"removed-functions",level:3},{value:"Azure Content Filter",id:"azure-content-filter",level:3},{value:"Llama Guard Filter",id:"llama-guard-filter",level:3},{value:"Translation Configuration",id:"translation-configuration",level:3},{value:"<code>@sap-ai-sdk/langchain</code>",id:"sap-ai-sdklangchain",level:2},{value:"Configuration Structure",id:"configuration-structure",level:3},{value:"Invoke Parameter",id:"invoke-parameter",level:3},{value:"Response Property",id:"response-property",level:3}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"This document guides you through upgrading from version 1 to version 2 of the SAP Cloud SDK for AI packages.\nIt covers all breaking changes and migration steps required for the upgrade."}),"\n",(0,t.jsx)(n.h2,{id:"update-dependencies",children:"Update Dependencies"}),"\n",(0,t.jsxs)(n.p,{children:["Search for occurrences of ",(0,t.jsx)(n.code,{children:"@sap-ai-sdk/[some module]"})," in your ",(0,t.jsx)(n.code,{children:"package.json"})," files.\nReplace the version numbers with ",(0,t.jsx)(n.code,{children:"^2"}),".\nRun ",(0,t.jsx)(n.code,{children:"npm install"})," or similar to install the dependencies and update the lock file."]}),"\n",(0,t.jsx)(n.p,{children:"Running your tests or deploying your application might fail at this point if you need to adapt to any breaking changes.\nWe recommend updating your applications in one commit or pull request and making sure everything still works using your existing test suite."}),"\n",(0,t.jsx)(n.h2,{id:"sap-ai-sdkfoundation-models",children:(0,t.jsx)(n.code,{children:"@sap-ai-sdk/foundation-models"})}),"\n",(0,t.jsx)(n.h3,{id:"type-import",children:"Type Import"}),"\n",(0,t.jsxs)(n.p,{children:["Generated types are no longer exported from ",(0,t.jsx)(n.code,{children:"@sap-ai-sdk/foundation-models"}),".\nFor frequently used types in most cases, they remain available from the public exports.\nFor edge cases where the underlying generated types are used, they must be imported from ",(0,t.jsx)(n.code,{children:"@sap-ai-sdk/foundation-models/internal.js"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import type {\n  AzureOpenAiCreateChatCompletionRequest,\n  AzureOpenAiCreateChatCompletionResponse\n} from '@sap-ai-sdk/foundation-models';\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Generated types must be imported from internal\nimport type {\n  AzureOpenAiChatCompletionParameters,\n  AzureOpenAiCreateChatCompletionResponse\n} from '@sap-ai-sdk/foundation-models/internal.js';\n\n// Frequently used types remain available from main package\nimport type {\n  AzureOpenAiChatCompletionTool,\n  AzureOpenAiFunctionObject,\n  AzureOpenAiChatCompletionRequestMessage,\n  AzureOpenAiChatCompletionRequestSystemMessage,\n  AzureOpenAiChatCompletionRequestUserMessage,\n  AzureOpenAiChatCompletionRequestAssistantMessage,\n  AzureOpenAiChatCompletionRequestToolMessage\n} from '@sap-ai-sdk/foundation-models';\n"})}),"\n",(0,t.jsx)(n.h3,{id:"stream-controller",children:"Stream Controller"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"stream()"})," method now accepts an ",(0,t.jsx)(n.code,{children:"AbortSignal"})," instead of an ",(0,t.jsx)(n.code,{children:"AbortController"})," as the second parameter."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const controller = new AbortController();\nconst response = await azureOpenAiChatClient.stream(\n  {\n    messages: [{ role: 'user', content: 'Hello' }],\n    max_tokens: 100\n  },\n  controller // Pass the controller\n);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const controller = new AbortController();\nconst response = await azureOpenAiChatClient.stream(\n  {\n    messages: [{ role: 'user', content: 'Hello' }],\n    max_tokens: 100\n  },\n  controller.signal // Pass the signal instead\n);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"chat-completion-parameter-type",children:"Chat Completion Parameter Type"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"AzureOpenAiCreateChatCompletionRequest"})," type is no longer exported publicly.\nUse the new ",(0,t.jsx)(n.code,{children:"AzureOpenAiChatCompletionParameters"})," type instead."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import type { AzureOpenAiCreateChatCompletionRequest } from '@sap-ai-sdk/foundation-models';\n\nconst request: AzureOpenAiCreateChatCompletionRequest = {\n  messages: [{ role: 'user', content: 'Hello' }],\n  max_tokens: 100\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import type { AzureOpenAiChatCompletionParameters } from '@sap-ai-sdk/foundation-models';\n\nconst request: AzureOpenAiChatCompletionParameters = {\n  messages: [{ role: 'user', content: 'Hello' }],\n  max_tokens: 100\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-object-data-property",children:"Response Object Data Property"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"data"})," property in response objects is renamed to ",(0,t.jsx)(n.code,{children:"_data"}),".\nPrefer using the provided getter methods instead of accessing the data object directly."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Affected Response Classes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"AzureOpenAiChatCompletionResponse"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"AzureOpenAiChatCompletionStreamChunkResponse"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"AzureOpenAiEmbeddingResponse"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"sap-ai-sdkorchestration",children:(0,t.jsx)(n.code,{children:"@sap-ai-sdk/orchestration"})}),"\n",(0,t.jsxs)(n.p,{children:["In v2, the orchestration package targets v2 of the ",(0,t.jsx)(n.a,{href:"https://api.sap.com/api/ORCHESTRATION_API_v2/overview",children:"Orchestration service"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"type-import-1",children:"Type Import"}),"\n",(0,t.jsxs)(n.p,{children:["Generated types are no longer exported from ",(0,t.jsx)(n.code,{children:"@sap-ai-sdk/orchestration"}),".\nFor frequently used types in most cases, they remain available from the public exports.\nFor edge cases where the underlying generated types are used, they must be imported from ",(0,t.jsx)(n.code,{children:"@sap-ai-sdk/orchestration/internal.js"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"import type {\n  CompletionPostResponse,\n  LlmChoice\n} from '@sap-ai-sdk/orchestration';\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Generated types must be imported from internal\nimport type {\n  CompletionPostResponse,\n  LlmChoice\n} from '@sap-ai-sdk/orchestration/internal.js';\n\n// Frequently used types remain available from main package\nimport type {\n  ChatMessage,\n  SystemChatMessage,\n  UserChatMessage,\n  AssistantChatMessage,\n  ToolChatMessage,\n  DeveloperChatMessage,\n  ChatCompletionTool,\n  FunctionObject\n} from '@sap-ai-sdk/orchestration';\n"})}),"\n",(0,t.jsx)(n.h3,{id:"stream-controller-1",children:"Stream Controller"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"stream()"})," method now accepts an ",(0,t.jsx)(n.code,{children:"AbortSignal"})," instead of an ",(0,t.jsx)(n.code,{children:"AbortController"})," as the second parameter."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const controller = new AbortController();\nconst response = await orchestrationClient.stream(\n  { messages: [{ role: 'user', content: 'Hello' }] },\n  controller // Pass the controller\n);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const controller = new AbortController();\nconst response = await orchestrationClient.stream(\n  { messages: [{ role: 'user', content: 'Hello' }] },\n  controller.signal // Pass the signal instead\n);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-object-data-property-1",children:"Response Object Data Property"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"data"})," property in response objects is renamed to ",(0,t.jsx)(n.code,{children:"_data"}),".\nPrefer using the provided getter methods instead of accessing the data object directly."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Affected Response Classes:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"OrchestrationResponse"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"OrchestrationStreamResponse"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"OrchestrationStreamChunkResponse"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"module-configuration-structure",children:"Module Configuration Structure"}),"\n",(0,t.jsxs)(n.p,{children:["The most significant change is the consolidation of ",(0,t.jsx)(n.code,{children:"llm"})," and ",(0,t.jsx)(n.code,{children:"templating"})," modules into a single ",(0,t.jsx)(n.code,{children:"promptTemplating"})," module as ",(0,t.jsx)(n.code,{children:"model"})," and ",(0,t.jsx)(n.code,{children:"prompt"})," properties respectively."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const config = {\n  llm: {\n    model_name: 'gpt-4o',\n    model_params: {}\n  },\n  templating: {\n    template: [\n      { role: 'user', content: 'What is the capital of {{?country}}?' }\n    ]\n  }\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const config = {\n  promptTemplating: {\n    model: {\n      name: 'gpt-4o',\n      params: {}\n    },\n    prompt: {\n      template: [\n        { role: 'user', content: 'What is the capital of {{?country}}?' }\n      ]\n    }\n  }\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"chat-completion-parameter",children:"Chat Completion Parameter"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"inputParams"})," property for chat completion calls has been renamed to ",(0,t.jsx)(n.code,{children:"placeholderValues"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"orchestrationClient.chatCompletion({\n  inputParams: { country: 'France' }\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"orchestrationClient.chatCompletion({\n  placeholderValues: { country: 'France' }\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"global-streaming-configuration",children:"Global Streaming Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["The global streaming configuration has been updated to use an ",(0,t.jsx)(n.code,{children:"enabled"})," flag instead of a top-level ",(0,t.jsx)(n.code,{children:"stream"})," property."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const config = {\n  stream: true,\n  streamOptions: {\n    llm: { include_usage: true }\n  }\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const config = {\n  streamOptions: {\n    enabled: true,\n    promptTemplating: { include_usage: true }\n  }\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-structure",children:"Response Structure"}),"\n",(0,t.jsx)(n.p,{children:"The response structure has been updated with new property names."}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Response properties\nresponse.orchestration_result;\nresponse.module_results;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Response properties\nresponse.final_result;\nresponse.intermediate_results;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"grounding-configuration",children:"Grounding Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["The grounding configuration structure has been updated to use ",(0,t.jsx)(n.code,{children:"placeholders"})," instead of separate ",(0,t.jsx)(n.code,{children:"input_params"})," and ",(0,t.jsx)(n.code,{children:"output_param"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"buildDocumentGroundingConfig({\n  input_params: ['groundingInput'],\n  output_param: 'groundingOutput',\n  filters: [...]\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"buildDocumentGroundingConfig({\n  placeholders: {\n    input: ['groundingInput'],\n    output: 'groundingOutput'\n  },\n  filters: [...]\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"removed-functions",children:"Removed Functions"}),"\n",(0,t.jsxs)(n.p,{children:["The deprecated ",(0,t.jsx)(n.code,{children:"buildAzureContentFilter()"})," function has been removed in v2.\nUse ",(0,t.jsx)(n.code,{children:"buildAzureContentSafetyFilter()"})," instead."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// This function is deprecated and removed in v2\nconst filter = buildAzureContentFilter({\n  Hate: 'ALLOW_SAFE',\n  Violence: 'ALLOW_SAFE_LOW_MEDIUM'\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Use this function instead\nconst filter = buildAzureContentSafetyFilter('input', {\n  // For output filter, use type 'output'\n  hate: 'ALLOW_SAFE',\n  violence: 'ALLOW_SAFE_LOW_MEDIUM'\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"azure-content-filter",children:"Azure Content Filter"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"buildAzureContentSafetyFilter()"})," function now requires a ",(0,t.jsx)(n.code,{children:"type"})," parameter as the first argument to distinguish between input and output filter configurations.\nAdditionally, the Azure content filter property names have been updated to use lowercase with underscores."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"buildAzureContentSafetyFilter({\n  Hate: 'ALLOW_SAFE',\n  SelfHarm: 'ALLOW_SAFE_LOW',\n  Sexual: 'ALLOW_SAFE_LOW_MEDIUM',\n  Violence: 'ALLOW_ALL'\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// For input filters\nbuildAzureContentSafetyFilter('input', {\n  hate: 'ALLOW_SAFE',\n  self_harm: 'ALLOW_SAFE_LOW',\n  sexual: 'ALLOW_SAFE_LOW_MEDIUM',\n  violence: 'ALLOW_ALL'\n});\n\n// For output filters\nbuildAzureContentSafetyFilter('output', {\n  hate: 'ALLOW_SAFE',\n  self_harm: 'ALLOW_SAFE_LOW',\n  sexual: 'ALLOW_SAFE_LOW_MEDIUM',\n  violence: 'ALLOW_ALL'\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"llama-guard-filter",children:"Llama Guard Filter"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"buildLlamaGuardFilter()"})," function has been renamed to ",(0,t.jsx)(n.code,{children:"buildLlamaGuard38BFilter()"})," function.\nIt now requires a ",(0,t.jsx)(n.code,{children:"type"})," parameter as the first argument to distinguish between ",(0,t.jsx)(n.code,{children:"input"})," and ",(0,t.jsx)(n.code,{children:"output"})," filter configurations, and accepts categories as an array instead of individual parameters."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"buildLlamaGuardFilter('self_harm');\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// For input filters\nbuildLlamaGuard38BFilter('input', ['self_harm', 'violence']);\n\n// For output filters\nbuildLlamaGuard38BFilter('output', ['self_harm', 'violence']);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"translation-configuration",children:"Translation Configuration"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"buildTranslationConfig()"})," function now requires a ",(0,t.jsx)(n.code,{children:"type"})," parameter as the first argument to distinguish between input and output translation configurations."]}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"buildTranslationConfig({\n  sourceLanguage: 'en-US',\n  targetLanguage: 'de-DE'\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// For input translation\nbuildTranslationConfig('input', {\n  sourceLanguage: 'en-US',\n  targetLanguage: 'de-DE'\n});\n\n// For output translation\nbuildTranslationConfig('output', {\n  sourceLanguage: 'de-DE',\n  targetLanguage: 'fr-FR'\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"sap-ai-sdklangchain",children:(0,t.jsx)(n.code,{children:"@sap-ai-sdk/langchain"})}),"\n",(0,t.jsx)(n.h3,{id:"configuration-structure",children:"Configuration Structure"}),"\n",(0,t.jsx)(n.p,{children:"The LangChain orchestration configuration follows the same structural changes as the core orchestration package."}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const config: LangChainOrchestrationModuleConfig = {\n  llm: {\n    model_name: 'gpt-4o',\n    model_params: {}\n  },\n  templating: {\n    template: messages\n  }\n};\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const config: LangChainOrchestrationModuleConfig = {\n  promptTemplating: {\n    model: {\n      name: 'gpt-4o',\n      params: {}\n    },\n    prompt: {\n      template: messages\n    }\n  }\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"invoke-parameter",children:"Invoke Parameter"}),"\n",(0,t.jsx)(n.p,{children:"Input parameters for LangChain orchestration calls have been updated."}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"await orchestrationClient.invoke(messages, {\n  inputParams: { country: 'France' }\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"await orchestrationClient.invoke(messages, {\n  placeholderValues: { country: 'France' }\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"response-property",children:"Response Property"}),"\n",(0,t.jsx)(n.p,{children:"LangChain message responses now use updated property names for intermediate results."}),"\n",(0,t.jsxs)(n.p,{children:["Change from ",(0,t.jsx)(n.strong,{children:"v1:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Access module results in response\nmessage.additional_kwargs.module_results;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["to ",(0,t.jsx)(n.strong,{children:"v2:"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"// Access intermediate results in response\nmessage.additional_kwargs.intermediate_results;\n"})})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>i});var r=s(6540);const t={},o=r.createContext(t);function a(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);