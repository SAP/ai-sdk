---
id: prompt-registry
title: Prompt Registry
hide_title: false
hide_table_of_contents: false
description: How to use SAP Cloud SDK for AI to interact with the prompt registry service.
keywords:
  - sap
  - cloud
  - sdk
  - ai
  - prompt
  - registry
---

The `@sap-ai-sdk/prompt-registry` package incorporates generative AI prompt registry capabilities into your AI activities in SAP AI Core and SAP AI Launchpad.

## Installation

```
$ npm install @sap-ai-sdk/prompt-registry
```

:::important
This package contains generated code.
Updates to this package may include breaking changes.

To ensure compatibility and manage updates effectively, we strongly recommend using the tilde (`~`) version range in your project instead of the caret (`^`).
This approach will allow patch-level updates while preventing potentially breaking minor version changes.
:::

## Usage

The example below demonstrate a sample usage of APIs in SAP AI Core prompt registry service.
In addition, you can find more sample code [here](https://github.com/SAP/ai-sdk-js/blob/main/sample-code/src/prompt-registry.ts).

### List Prompt Templates

```ts
const response: PromptTemplateListResponse =
  await PromptTemplatesApi.listPromptTemplates({
    scenario: 'test'
  }).execute();
```

### Custom Destination

When calling the `execute()` method, it is possible to provide a custom destination for your SAP AI Core instance.
For example, when querying deployments targeting a destination with the name `my-destination`, the following code can be used:

```ts
const response: PromptTemplateListResponse =
  await PromptTemplatesApi.listPromptTemplates({
    scenario: 'test'
  }).execute({
    destinationName: 'my-destination'
  });
```

By default, the fetched destination is cached.
To disable caching, set the `useCache` parameter to `false` together with the `destinationName` parameter.

For more information about configuring a destination, refer to the [Using a Destination](../connecting-to-ai-core#using-a-destination) section.

## Orchestration Config

Orchestration config allow you to persist complete orchestration configurations in the Prompt Registry.
These configurations can include prompt templating, content filtering, data masking, grounding, and translation settings.
Once stored, you can reference them when initializing the `OrchestrationClient` instead of defining the configuration inline.

For more details about orchestration config management, refer to the [SAP AI Core documentation](https://help.sap.com/docs/sap-ai-core/generative-ai/orchestration-config-management).

### Create an Orchestration Config

Use the `createUpdateOrchestrationConfig()` method to create or update an orchestration config:

```ts
import { OrchestrationConfigsApi } from '@sap-ai-sdk/prompt-registry';

const orchestrationConfig = {
  name: 'my-orchestration-config',
  scenario: 'customer-support',
  version: '0.0.1',
  spec: {
    promptTemplating: {
      model: {
        name: 'gpt-4o',
        version: 'latest'
      },
      prompt: {
        template: [
          {
            role: 'system',
            content:
              'You are a helpful customer support assistant. Answer customer questions professionally and accurately.'
          },
          { role: 'user', content: '{{?customerQuestion}}' }
        ]
      }
    }
  }
};

const response =
  await OrchestrationConfigsApi.createUpdateOrchestrationConfig(
    orchestrationConfig
  ).execute();

console.log(response.id);
```

The response contains the generated `id` property, which uniquely identifies the orchestration config.

:::note
To use [streaming](../orchestration/chat-completion#streaming) with an orchestration config, include streaming settings in the `spec` property when creating the config.
:::

### List Orchestration Config

Use the `listOrchestrationConfigs()` method to retrieve existing orchestration configs:

```ts
const configs = await OrchestrationConfigsApi.listOrchestrationConfigs({
  scenario: 'customer-support'
}).execute();
```

To use a stored orchestration config with the `OrchestrationClient`, refer to the [Initialization with Orchestration Config](../orchestration/chat-completion#initialization-with-orchestration-config) section in the Chat Completion guide.
